<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Turtle Roy</title>

    <link rel="stylesheet" href="css/turtle-roy.css" />

    <script src="lib/jquery-1.8.2.min.js"></script>
    <script src="lib/jquery.console.js"></script>
    <script src="lib/roy.js"></script>
    <script src="lib/htmlrepl.js"></script>
    <script src="lib/royloader.js"></script>
    <script src="script/turtle.js"></script>
    <script language="roy" src="lib/arrays.roy"></script>
    <script language="roy" src="script/turtle.roy"></script>
    <script>
      $(function() {
        var console = royRepl.init($(".console"))
        turtle = Turtle($("#turtlegraphics"), 900, 300)
        turtle.spin(360, 10)
        var square = "let square = repeat 4 (sequence[fd 50, lt 90])"
        addExample("Turtle moves", "fd 50\nlt 45\nfd 50\nrt 45\nfd 50")
        addExample("Square", square + "\nsquare")
        addExample("Circle", "let circle = repeat 360 (sequence [fd 1, rt 1])\ncircle")
        addExample("Flower", square + "\nlet flower = repeat 36 (rt 10, square)\nflower")
        addExample("Clear", "clear")
        addExample("Factorial", "let factorial n = if n==1 then 1 else n * (factorial n - 1)\nfactorial 5")
        addExample("Strings", '"Apple" ++ "sauce"')
        addExample("Lists - range", "range 1 10")
        addExample("Lists - head", "head [1,2,3]")
        addExample("Lists - tail", "tail [1,2,3]")
        addExample("Lists - concat", "concat [1,2,3] [4,5,6]")
        addExample("Lists - reverse", "let reverse xs = if (empty xs) then [] else concat (reverse (tail xs)) [head xs]\nreverse [1,2,3]")

        
        $("#cookbook").hover(function() {
          $("#cookbook ul").slideDown("fast")
        }, function() {})
        $("#cookbook label").click(function() {
          $("#cookbook ul").slideToggle("fast")
        })
        function addExample(name, code) {
          var element = $("<li>").attr("data-code", code).text(name)
          $("#cookbook ul").append(element)
        }
        $("#cookbook li").click(function() {
          var text = $(this).attr("data-code")
          console.pasteToConsole(text)
          setTimeout(function() {
            $("#cookbook ul").slideUp("fast")
          }, 100)
        })
      })
    </script>
  </head>
  <body>
     <div id="top">
       <h1>TURTLE ROY_</h1>
       <div id="info">
         <p>Fun programming in <a href="http://roy.brianmckenna.org/">Roy</a> with Turtle Graphics</p>
         <p>Created by <a href="https://twitter.com/raimohanska">@raimohanska</a>. More info on <a href="https://github.com/raimohanska/turtle-roy">Github</a>.</p>
       </div>
     </div>
     <div id="turtlegraphics">
     </div>
     <div class="console"></div>
     <div id="bottom">
       <div id="cookbook">
         <label>Examples</label>
         <ul>
         </ul>
       </div>
     </div>
  </body>
</html>
